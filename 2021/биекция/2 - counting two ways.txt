<div class="top">
  <style>
    .top{
      height:2cm;
    }
    .body{
      width:16cm;
      margin:auto;
    }
    hr{
    	width:60%;
    }
  </style>
</div>

<div class="body">
< # <span class="title">COUNTING TWO WAYS</span>

<< Да, знаю, вы уже решали <br> похожее с Тамирланом). 

Биекция проявляется не только в трансформации одного условия в другое, но ещё и рассмотрении одной задачи под разными углами. 

>Если мы правильно подсчитываем элементы множества двумя различными способами, то два ответа, которые мы получаем, должны быть одинаковыми. 

Это, казалось бы, примитивное наблюдение, но оно часто приводит к нетривиальным результатам. Задав вопрос *как посчитать ...?* можно найти интересные комбинаторные тождества.

Начнем с тривиальных всеми вам изветсных комбинаторных тождеств.

**Пример 1.** Для $n \ge k$ докажите, что 
$$C^k_{n} = C^{n-k}_n.$$

*Решение.* Вопрос: сколькими способами можно выбрать $k$ людей на резерв из $n$ людей?

- **Пс:** количество способов не выбрать $n-k$ людей в резерв
- **Лс:** количество способов выбрать $k$ людей в резерв

**Пример 2.** Докажите биноминальное тождество 
$$C^0_n + C^1_n + \dots + C^n_n = 2^n.$$

*Решение.* Вопрос: сколькими способами можно выбрать группу людей на резерв из $n$ людей?

- **Пс:** Первый либо идет, либо не идет. Второй либо идет или не идет и.т.д
- **Лс:** Количество способов составить резерв из 0 людей; одного; двух; и.т.д.

**Пример 3.** Докажите
$$1\cdot n + 2\cdot(n-1) + 3 \cdot (n-2) + \dots + (n-1) \cdot 2 + n \cdot 1 = {C_{n+2}^3}.$$

*Решение.* Чтобы дать комбинаторное доказательство, нам нужно придумать вопрос, на который можем ответить двумя способами: один способ должен указывать левую часть тождества, другой способ должен быть правой частью тождества. 

Подсказка к тому, какой вопрос задать, исходит из правой части: ${C_{n+2}^3}$ подсчитывает количество способов выбрать 3 вещи из группы $n + 2$ вещей. Назовем эти вещи $1, 2, 3, \ldots, n + 2$. Другими словами, мы хотим найти трехэлементные подмножества этих чисел (поскольку порядок не имеет значения, подмножества - это как раз то, о чем следует подумать). Нам придется немного сообразить, чтобы объяснить, почему в левой части также указано количество этих подмножеств.

*Доказательство.*
Рассмотрим вопрос «Сколько 3-элементных подмножеств имеется в множестве $\{1,2,3,…, n + 2\}$? Мы ответим на это двумя способами:

- **Ответ 1:** Мы должны выбрать 3 элемента из набора $n + 2$ элементов. Это можно сделать ${C_{n+2}^3}$ способами.

- **Ответ 2:** Разобъем эту задачу на случаи по среднему числу в подмножестве. Скажем, каждое подмножество $\{a, b, c\}$ записано в порядке возрастания. Мы подсчитываем количество подмножеств для каждого отдельного значения $b$. Наименьшее возможное значение $b$ равно 2, а наибольшее &ndash; $n + 1$.

	- Когда $b = 2$, имеется $1 \cdot n$ подмножеств: 1 вариант для $a$ и $n$ вариантов (от $3$ до $n + 2$) для $c$.

	- Когда $b = 3$, имеется $2 \cdot (n - 1)$ подмножеств: 2 варианта для $a$ и $n - 1$ выбор для $c$.

	- Когда $b = 4$, имеется $3 \cdot (n - 2)$ подмножеств: 3 варианта для $a$ и $n - 2$ варианта для $c$.

	И так далее. Когда $b = n + 1$, есть $n$ вариантов для $a$ и только 1 вариант для $c$, поэтому $n \cdot 1$ подмножество.

	Следовательно, общее количество подмножеств равно
$$1\cdot n + 2\cdot (n - 1) +3\cdot (n - 2) + \ldots + (n - 1) \cdot 2 + n \cdot 1$$.
	Поскольку ответы 1 и 2 являются ответами на один и тот же вопрос, они должны быть равны. Следовательно
$$1\cdot n + 2\cdot(n-1) + 3 \cdot (n-2) + \dots + (n-1) \cdot 2 + n \cdot 1 = {C_{n+2}^3}.$$
<span style="float:right;">$\square$</span><br>

**Пример 4.** Докажите биноминальное тождество 
$$({C_n ^ 0})^2 + ({C_n ^ 1})^2 + ({C_n ^ 2})^2 + \dots + ({C_n ^ n})^2 = {C_{2n} ^ n}.$$

*Решение.* Вопрос: Сколькими способами можно выбрать $n$ людей на резерв из $n$ мальчиков и $n$ девочек?

- Ответ 1: Ну, в лоб выберем $n$ школьников из $2n$: это будет $C_{2n}^n$
- Ответ 2: Будем считать, что $i$ мальчиков и $n-i$ девочек попадают в резерв. Их можно выбрать $C^i_n \cdot C^{n-i}_n = (C^i_n)^2$ способами. Рассмотрим для $i=0,1,\ldots, n$ и получим, что количество способов
$$({C_n ^ 0})^2 + ({C_n ^ 1})^2 + ({C_n ^ 2})^2 + \dots + ({C_n ^ n})^2 .$$

<br>

**Задачи для самостоятельного прорешивания**

1. Для $n \ge k$ докажите, что 
$${C_n^k} = {C_{n-1}^{k-1}} + {C_{n-1}^k}.$$

1. Для $n \in \N$ докажите, что
$$1 + 2 + 3 + \dots + n = {C_{n+1}^2}.$$

1. Для $n \ge m$ докажите, что 
$${C_n^m \cdot C_m^m}+{C_n^{m+1} \cdot C_{m+1}^m}+\ldots+{C_n^n \cdot C_n^m} = C^m_n \cdot 2^{n-m}.$$

1. Для $n \in \N$ докажите, что 
$$C ^ 3 _ {3n}  = 3 C^3_n + 6n C^2_n + n^3.$$

1. Для $n \in \N$ докажите, что 
$$
{C_n^0} + 2\cdot{C_n^1} + 2^2\cdot{C_n^2} + 2^3\cdot{C_n^3} + \dots + 2^n\cdot{C_n^n} = 3^n. 
$$

1. Сколькими способами можно переставить буквы в слове *&laquo;переставновка&raquo;*?
</div>


<div style="opacity:0.15;">
Solutions:
[[1]](http://discrete.openmathbooks.org/dmoi2/sec_comb-proofs.html)
<br>
[[2]](https://math.libretexts.org/Bookshelves/Combinatorics_and_Discrete_Mathematics/Book%3A_Discrete_Mathematics_(Levin)/1%3A_Counting/1.4%3A_Combinatorial_Proofs)
</div>